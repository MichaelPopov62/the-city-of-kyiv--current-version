{"version":3,"file":"index.js","sources":["../src/js/mobile-menu.js","../src/js/header.js","../src/js/hero-city.js","../src/js/hero-form.js","../src/js/monuments.js","../src/js/validation.js","../src/js/question-form.js","../src/js/coordinates.js"],"sourcesContent":["const menu = document.querySelector('[data-menu]');\nconst burger = document.querySelector('.burger-btn');\nconst close = document.querySelector('.close-btn');\n\nif (menu && burger && close) {\n  burger.addEventListener('click', () => {\n    menu.classList.add('is-open');\n    document.body.style.overflow = 'hidden';\n  });\n\n  close.addEventListener('click', () => {\n    menu.classList.remove('is-open');\n    document.body.style.overflow = '';\n  });\n\n  menu.addEventListener('click', e => {\n    const link = e.target.closest('a');\n    if (link && link.classList.contains('nav-link')) {\n      menu.classList.remove('is-open');\n      document.body.style.overflow = '';\n    }\n  });\n}\nconst mq = window.matchMedia('(min-width: 768px)');\n\nmq.addEventListener('change', event => {\n  if (event.matches) {\n    menu.classList.remove('is-open');\n    document.body.style.overflow = '';\n  }\n});\n","const navLinks = document.querySelectorAll('.heder-nav .nav-link');\nconst activeLine = document.querySelector('.active-line');\n\nfunction moveLine(link) {\n  const rect = link.getBoundingClientRect();\n  const navRect = link.closest('.heder-nav').getBoundingClientRect();\n\n  activeLine.style.width = rect.width + 'px';\n  activeLine.style.left = rect.left - navRect.left + 'px';\n}\n// функція для оновлення смуги під активним пунктом\nfunction updateActiveLine() {\n  const current = document.querySelector('.nav-link.current');\n  if (current) moveLine(current);\n}\n\n// при завантаженні сторінки підсвічуємо активний\ndocument.addEventListener('DOMContentLoaded', () => {\n  updateActiveLine(); //повторне розрахування позиції смуги при завантаженні сторінки, щоб вона була під активним пунктом навіть після оновлення сторінки або при першому завантаженні.\n});\n\n// при кліку рухаємо смугу\nnavLinks.forEach(link => {\n  link.addEventListener('click', e => {\n    navLinks.forEach(l => l.classList.remove('current'));\n    e.target.classList.add('current');\n    moveLine(e.currentTarget); // e.currentTarget - це посилання на елемент, до якого прикріплений обробник події (у цьому випадку - клікнутий пункт меню)\n  });\n});\n// **ОНОВЛЮЄМО СМУГУ ПРИ ЗМІНІ РОЗМІРУ ВІКНА**\nwindow.addEventListener('resize', () => {\n  updateActiveLine();\n});\n","// Отримую кнопку\nconst scrollTopBtn = document.getElementById(\"scrollTopBtn\");\n\n// Коли користувач прокручує сторінку, показую/приховую кнопку\nwindow.onscroll = function() {scrollFunction()};\n\nfunction scrollFunction() {\n  if (document.body.scrollTop > 200 || document.documentElement.scrollTop > 200) {\n    scrollTopBtn.style.display = \"block\";\n  } else {\n    scrollTopBtn.style.display = \"none\";\n  }\n}\n\n// Коли користувач натискає кнопку, скролить вгору\nscrollTopBtn.addEventListener('click', function() {\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth' // Плавний скрол\n  });\n});","const openBtn = document.getElementById('open-question');\nconst form = document.querySelector('.question-form');\nif (openBtn && form) {\n  openBtn.addEventListener('click', () => {\n    form.classList.add('question-form--visible');\n    openBtn.style.display = 'none';\n  });\n  form.addEventListener('submit', event => {\n    event.preventDefault();\n    form.classList.remove('question-form--visible');\n    openBtn.style.display = '';\n  });\n}\n","\n\n//Знаходжу всі елементи списку пам'яток\nconst items = document.querySelectorAll('.monuments-item');\n\n// Якщо елементів немає — нічого не виконую\nif (items.length > 0) {\n  items.forEach(item => {\n    // Знаходжу box (картинка + overlay)\n    const box = item.querySelector('.box');\n\n    //Знаходжу overlay\n    const overlay = item.querySelector('.js-overlay');\n\n    // Знаходжу опис\n    const description = item.querySelector('.description');\n\n    // Якщо чогось немає — пропускаю\n    if (!box || !overlay || !description) return;\n\n    //Клік по box відкриває overlay\n    box.addEventListener('click', event => {\n      event.stopPropagation(); // блокую спливання\n\n    // FIX: закриваю всі overlay та описи перед відкриттям нового\n      closeAll();\n\n      overlay.classList.add('active'); // показую overlay\n    });\n\n    //Клік по overlay показує опис\n    overlay.addEventListener('click', event => {\n      event.stopPropagation(); // блокую спливання\n    // FIX: закриваю всі описи перед відкриттям нового\n      closeAllDescriptions();\n      description.classList.add('active'); // показую опис\n    });\n\n    //Клік по опису закриває його\n    description.addEventListener('click', event => {\n      event.stopPropagation(); //блокую спливання\n      description.classList.remove('active'); //ховаю опис\n    });\n  });\n\n   //  Клік по документу закриває все\n  document.addEventListener('click', () => {\n    closeAll(); // FIX\n  });\n  \n  // Функція закриває всі overlay та описи\nfunction closeAll() { // FIX\n  document.querySelectorAll('.js-overlay')\n    .forEach(el => el.classList.remove('active'));\n\n  document.querySelectorAll('.description')\n    .forEach(desc => desc.classList.remove('active'));\n}\n\n// Функція закриває тільки описи\nfunction closeAllDescriptions() { // FIX\n  document.querySelectorAll('.description')\n    .forEach(desc => desc.classList.remove('active'));\n}\n}\n","// validation.js\n\n// Експортуємо функцію валідації\nexport function validateForm(question, contact) {\n  if (!question) return 'Будь ласка, введіть ваше питання.';\n  if (!contact) return 'Будь ласка, залиште контактні дані для відповіді.';\n  return null;\n}\n","\nimport { validateForm } from './validation.js';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const openBtn = document.getElementById('open-question');\n  const modal = document.getElementById('question-modal');\n  const form = document.getElementById('question-form');\n  const closeBtn = document.querySelector('.modal-close');\n  const formStatus = form.querySelector('.form-status');\n\n  const textarea = document.getElementById('question-text');\n  const contactInput = document.getElementById('contact');\n\n  const DRAFT_KEY = 'question-draft';\n\n  // ===== автозбереження чернетки =====\n  const saveDraft = () => {\n    sessionStorage.setItem(\n      DRAFT_KEY,\n      JSON.stringify({\n        question: textarea.value,\n        contact: contactInput.value\n      })\n    );\n  };\n\n  textarea.addEventListener('input', saveDraft);\n  contactInput.addEventListener('input', saveDraft);\n\n  // ===== відкриття модалки + відновлення чернетки =====\n  openBtn.addEventListener('click', () => {\n    modal.classList.add('active');\n    openBtn.style.display = 'none';\n    formStatus.textContent = '';\n\n    const draft = sessionStorage.getItem(DRAFT_KEY);\n    if (draft) {\n      const { question, contact } = JSON.parse(draft);\n      textarea.value = question || '';\n      contactInput.value = contact || '';\n    }\n  });\n\n  // ===== закриття модалки (БЕЗ reset) =====\n  const closeModal = () => {\n    modal.classList.remove('active');\n    openBtn.style.display = '';\n    formStatus.textContent = '';\n  };\n\n  closeBtn.addEventListener('click', closeModal);\n  modal.addEventListener('click', e => {\n    if (e.target === modal) closeModal();\n  });\n\n  // ===== submit =====\n  form.addEventListener('submit', async (e) => {\n    e.preventDefault();\n\n    const question = textarea.value.trim();\n    const contact = contactInput.value.trim();\n\n    formStatus.textContent = '';\n\n    const error = validateForm(question, contact);\n    if (error) {\n      formStatus.textContent = error;\n      return;\n    }\n\n    try {\n      const res = await fetch('http://localhost:9000/send-question', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ question, contact })\n      });\n\n      const data = await res.json();\n      formStatus.textContent = data.reply || 'Щось пішло не так...';\n\n      if (data.success) {\n        formStatus.classList.add('success');\n        form.reset();\n        sessionStorage.removeItem(DRAFT_KEY); // ← важливо\n      } else {\n        formStatus.classList.add('error');\n      }\n\n    } catch (err) {\n      formStatus.textContent = 'Помилка при надсиланні: ' + err.message;\n    }\n  });\n});\n","\n\n\nimport * as basicLightbox from 'basiclightbox'\nimport 'basiclightbox/dist/basicLightbox.min.css'\n\n\ndocument.addEventListener('click', (e) => {\n\n  const link = e.target.closest('a[data-large]');\n  if (!link) return  // якщо клік не по потрібному <a>, нічого не робимо\n\n  e.preventDefault()// блокуємо стандартну поведінку href=\"#\"\n\n    const largeImg = link.dataset.large;// шлях до великого зображення\n  const altText = link.querySelector('img')?.alt || '';// alt текст зображення\n  \n\n\n\n  const instance = basicLightbox.create(\n    `<img src=\"${largeImg}\"\n     alt=\"${altText}\" class=\"coordinates-link\">`)\n\n  instance.show()// показуємо модальне вікно\n})\n"],"names":["menu","burger","close","link","mq","event","navLinks","activeLine","moveLine","rect","navRect","updateActiveLine","current","e","l","scrollTopBtn","scrollFunction","openBtn","form","items","closeAll","el","desc","closeAllDescriptions","item","box","overlay","description","validateForm","question","contact","modal","closeBtn","formStatus","textarea","contactInput","DRAFT_KEY","saveDraft","draft","closeModal","error","data","err","largeImg","altText","_a","basicLightbox.create"],"mappings":"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"}